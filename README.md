# ç¬¬1ç« ï¼šè½¯ä»¶ç”Ÿå‘½å‘¨æœŸä¸æ¨¡å‹

## ä¸€ã€è½¯ä»¶ç”Ÿå‘½å‘¨æœŸ

### 1.1 å¯è¡Œæ€§åˆ†ææŠ¥å‘Šå’Œè½¯ä»¶å¼€å‘è®¡åˆ’

- äº§å‡ºå¯è¡Œæ€§åˆ†ææŠ¥å‘Š

### 1.2 éœ€æ±‚åˆ†æé˜¶æ®µ

- ç”±è½¯ä»¶åˆ†æå¸ˆæ¥åšï¼Œéœ€è¦æ‡‚æŠ€æœ¯ä¹Ÿéœ€è¦æ‡‚ä¸šåŠ¡
- åˆ†æå‡ºè½¯ä»¶éœ€è¦å®Œæˆä»€ä¹ˆåŠŸèƒ½
- äº§å‡ºéœ€æ±‚åˆ†æè¯´æ˜ä¹¦å’Œåˆæ­¥çš„ç”¨æˆ·æ‰‹å†Œ

### 1.3 è½¯ä»¶è®¾è®¡(æ¦‚è¦è®¾è®¡å’Œè¯¦ç»†è®¾è®¡)

- ç”±æ¶æ„å¸ˆ/é¡¹ç›®ç»ç†æ¥åš
- æ ¹æ®å›¢é˜ŸæŠ€æœ¯åŸºç¡€ç¡®å®šç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆ(Java/Node/Php)
- ç¡®å®šéƒ¨ç½²çš„æ“ä½œç³»ç»Ÿ
- ä½¿ç”¨ä»€ä¹ˆæ•°æ®åº“(oracle/mysql/sqlserver)
- è®¾è®¡æ•°æ®åº“è¡¨
- é€‰æ‹©å›¢é˜Ÿæˆå‘˜
- äº§å‡ºè½¯ä»¶è®¾è®¡æ–‡æ¡£

### 1.4 ç¼–ç å·¥ä½œ

- å¼€å‘äººå‘˜æ¥åš
- æŠŠè®¾è®¡ç¼–æˆä»£ç 
- äº§å‡ºæºä»£ç ä»¥åŠæ¸…å•

### 1.5 æµ‹è¯•é˜¶æ®µ

- ç”±æµ‹è¯•å·¥ç¨‹å¸ˆè¿›è¡Œ
- åˆ†ä¸ºç™½ç›’æµ‹è¯•(å•å…ƒæµ‹è¯•)å’Œé»‘ç›’æµ‹è¯•(åŠŸèƒ½æµ‹è¯•)
- äº§å‡ºè½¯ä»¶æµ‹è¯•æŠ¥å‘Š

### 1.6 å®æ–½å’Œç»´æŠ¤å·¥ä½œ

- ç”±å®æ–½å·¥ç¨‹å¸ˆæ‰§è¡Œ
- æŠŠé¡¹ç›®æŒ‰ç…§éœ€è¦å®‰è£…å’Œé…ç½®å¥½ï¼Œè®©å®¢æˆ·ä½¿ç”¨å¹¶è§£å†³ç®€å•é—®é¢˜
- äº§å‡ºè½¯ä»¶ç»´æŠ¤æŠ¥å‘Š

## äºŒã€è½¯ä»¶å¼€å‘æ¨¡å‹ 

### 2.1ç€‘å¸ƒæ¨¡å‹

- ç€‘å¸ƒæ¨¡å‹ï¼ˆWaterfall Modelï¼‰ æ˜¯ä¸€ä¸ªé¡¹ç›®å¼€å‘æ¶æ„
- å¼€å‘è¿‡ç¨‹æ˜¯é€šè¿‡è®¾è®¡ä¸€ç³»åˆ—é˜¶æ®µé¡ºåºå±•å¼€çš„ï¼Œä»ç³»ç»Ÿéœ€æ±‚åˆ†æå¼€å§‹ç›´åˆ°äº§å“å‘å¸ƒå’Œç»´æŠ¤ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½ä¼šäº§ç”Ÿå¾ªç¯åé¦ˆ
- å¦‚æœæœ‰ä¿¡æ¯æœªè¢«è¦†ç›–æˆ–è€…å‘ç°äº†é—®é¢˜ï¼Œé‚£ä¹ˆæœ€å¥½ â€œè¿”å›â€ä¸Šä¸€ä¸ªé˜¶æ®µå¹¶è¿›è¡Œé€‚å½“çš„ä¿®æ”¹ï¼Œé¡¹ç›®å¼€å‘è¿›ç¨‹ä»ä¸€ä¸ªé˜¶æ®µâ€œæµåŠ¨â€åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œè¿™ä¹Ÿæ˜¯ç€‘å¸ƒæ¨¡å‹åç§°çš„ç”±æ¥ã€‚

![ç€‘å¸ƒæ¨¡å‹](img/01.jpg)

### 2.2 å¢é‡å¼€å‘æ¨¡å‹

- å¢é‡æ¨¡å‹æ˜¯æŠŠå¾…å¼€å‘çš„è½¯ä»¶ç³»ç»Ÿæ¨¡å—åŒ–ï¼Œå°†æ¯ä¸ªæ¨¡å—ä½œä¸ºä¸€ä¸ªå¢é‡ç»„ä»¶ï¼Œä»è€Œåˆ†æ‰¹æ¬¡åœ°åˆ†æã€è®¾è®¡ã€ç¼–ç å’Œæµ‹è¯•è¿™äº›å¢é‡ç»„ä»¶ã€‚

  ![å¢é‡å¼€å‘æ¨¡å‹](img/02.jpg)

### 2.3 åŸå‹å¼€å‘æ¨¡å‹

åŸå‹æ¨¡å‹æŒ‡çš„æ˜¯åœ¨æ‰§è¡Œå®é™…è½¯ä»¶çš„å¼€å‘ä¹‹å‰ï¼Œåº”å½“å»ºç«‹ç³»ç»Ÿçš„ä¸€ä¸ªå·¥ä½œåŸå‹ã€‚

![åŸå‹å¼€å‘](img/03.jpg)

## ä¸‰ã€æ¨¡å‹

### 3.1 æ¨¡å‹ä¸UMLçš„ä»‹ç»

> å»ºé€ ä¸€æ ‹å¤§æ¥¼å‰éœ€è¦å…ˆæŠŠå›¾çº¸å°†å¤–è§‚ã€å†…éƒ¨ç»“æ„æè¿°æ¸…æ¥šï¼Œè¿™äº›å›¾çº¸å°±æ˜¯æ¨¡å‹ã€‚
>
> `Unified Modeling Language (UML)`åˆç§°ç»Ÿä¸€å»ºæ¨¡è¯­è¨€æˆ–æ ‡å‡†å»ºæ¨¡è¯­è¨€

### 3.2 æ¨¡å‹çš„ç‰¹ç‚¹

- ç®€åŒ–
- å¤šè§†è§’
- é€šç”¨ç¬¦å·

### 3.3 UMLç»„æˆ

![UMLç»„æˆ](img/04.jpg)

### 3.4 UMLå¼€å‘è½¯ä»¶

[staruml](http://staruml.io/)

## å››ã€è§†å›¾

### 4.1 ç”¨ä¾‹è§†å›¾

> ä»<font color="#f00">3.3èŠ‚UML</font>å¯çŸ¥ï¼Œç”¨ä¾‹è§†å›¾å³ç”±<font color="#08e">`ç”¨ä¾‹å›¾`</font>ç»„æˆ

#### 4.1.1 ç”¨ä¾‹å›¾

- ç”¨ä¾‹å»ºæ¨¡æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯è¡¨è¾¾ç³»ç»Ÿçš„åŠŸèƒ½æ€§éœ€æ±‚æˆ–è¡Œä¸º

- å‚äº’è€…ï¼š å‚ä¸è€…æŒ‡çš„æ˜¯ä¸ç³»ç»Ÿäº¤äº’çš„è§’è‰²ï¼Œå¯ä»¥æ˜¯äººï¼Œä¹Ÿå¯ä»¥æ˜¯äº‹ç‰©æˆ–å…¶å®ƒç³»ç»Ÿ

- ç”¨ä¾‹æ˜¯ç³»ç»Ÿä¸ºå‚ä¸è€…æä¾›çš„åŠŸèƒ½ã€‚ç”¨ä¾‹åç§°ä¸€èˆ¬æ˜¯ä¸€ä¸ªå¸¦æœ‰åŠ¨ä½œæ€§çš„è¯è¯­

- å¦‚ä¸‹å›¾ä¾‹â†“â†“â†“

  ![ç”¨ä¾‹å›¾](img/05.jpg)

ç”¨ä¾‹æè¿°

| é¡¹ç›®       | å†…å®¹                                                         |
| :--------- | :----------------------------------------------------------- |
| ç”¨ä¾‹åç§°   | ç™»å½•                                                         |
| ç”¨ä¾‹ID     | login                                                        |
| è§’è‰²       | ç”¨æˆ·                                                         |
| ç”¨ä¾‹è¯´æ˜   | æè¿°ç”¨æˆ·çš„ç™»å½•è¿‡ç¨‹                                           |
| å‰ç½®æ¡ä»¶   | æ‰“å¼€ç½‘ç«™é¡µé¢                                                 |
| åŸºæœ¬äº‹ä»¶æµ | 1.ç‚¹å‡»ç™»å½• 2. è¾“å…¥ç”¨æˆ·åå’Œç§˜å¯† 3. ç‚¹å‡»ç™»å½• 4. æœåŠ¡å™¨ä¼šä½¿ç”¨ä¼šè¯ä¿å­˜ç”¨æˆ·ç™»å½•çŠ¶æ€ |
| å…¶å®ƒäº‹ä»¶æµ | 1. ç”¨æˆ·åä¸ºç©ºæç¤ºç”¨æˆ·åä¸èƒ½ä¸ºç©º 2ã€‚å¯†ç ä¸ºç©ºæç¤ºå¯†ç ä¸èƒ½ä¸ºç©º  |
| å¼‚å¸¸äº‹ä»¶æµ | ç™»å½•è¶…æ—¶åˆ™è¿”å›ç™»å½•é¡µ                                         |
| åç½®æ¡ä»¶   | ç™»å½•æˆåŠŸï¼Œè¿›å…¥ä¸ªäººä¸­å¿ƒ                                       |

### 4.2 é€»è¾‘è§†å›¾

é€»è¾‘è§†å›¾åŒ…æ‹¬<font color="#08e">`ç±»å›¾`</font>å’Œ<font color="#08e">`å¯¹è±¡å›¾`</font>ç»„æˆ

#### 4.2.1 ç±»å›¾

- ç±»å›¾ï¼ˆClass Diagramï¼‰æè¿°ç±»çš„é™æ€ç»“æ„ï¼Œå®šä¹‰ç±»åŠæè¿°ç±»ä¹‹é—´çš„è”ç³»ï¼Œå¦‚å…³è”ã€ä¾èµ–ã€èšåˆç­‰ï¼Œè¿˜åŒ…æ‹¬ç±»çš„å†…éƒ¨ç»“æ„(ç±»çš„å±æ€§å’Œæ“ä½œ)

- ç±»å›¾æ˜¯ä¸€ç§é™æ€æ¨¡å‹ç±»å‹,ä¸€ä¸ªç±»å›¾æ ¹æ®ç³»ç»Ÿä¸­çš„ç±»ä»¥åŠå„ä¸ªç±»ä¹‹é—´çš„å…³ç³»æè¿°ç³»ç»Ÿçš„é™æ€ç»“æ„

- ç±»å›¾åŒ…å«7ä¸ªå…ƒç´ ï¼š

  - ç±»(Class)
  - æ¥å£(Interface)
  - åä½œ(Collaboration)
  - ä¾èµ–å…³ç³»(Dependency)
  - æ³›åŒ–å…³ç³»(Generalization)
  - å…³è”å…³ç³»(Association)
  - å®ç°å…³ç³»(Realization)

- åœ¨UMLä¸­,ç±»ç”¨çŸ©å½¢æ¥è¡¨ç¤º,åˆ†ä¸º3ä¸ªéƒ¨åˆ†: åç§°éƒ¨åˆ†(Name)ã€å±æ€§éƒ¨åˆ†(Attribute)å’Œæ“ä½œéƒ¨åˆ†(Operation)

- ç±»çš„è¡¨ç¤ºæ–¹å¼

  | ç±»å‹     | ç¤ºä¾‹                                           |
  | :------- | :--------------------------------------------- |
  | å±æ€§æ ¼å¼ | name : attribute type = default value          |
  | æ“ä½œæ ¼å¼ | name (parameter list) : type of value returned |

- ç±»å›¾çš„å‡ ç§å…³ç³»

  > å…³ç³»å¯ä»¥ä»å¼ºåˆ°å¼±ä¸º `ä¾èµ–< å…³è” <èšåˆ <ç»„åˆ`ã€‚
  >
  > ä¾èµ–æ˜¯æ–¹æ³•çš„å‚æ•°ï¼Œå…³è”æ˜¯å±æ€§ã€‚

  ä»¥ä¸‹æ˜¯ç±»å›¾å…³ç³»å›¾ä¾‹â†“â†“

  ![ç±»å›¾å…³ç³»ç¤ºæ„å›¾](img/06.jpg)

  - <font color="#f00">`ä¾èµ–(Dependency)å…³ç³»`</font>æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„è”æ¥ã€‚ä¾èµ–å…³ç³»è¡¨ç¤ºä¸€ä¸ªç±»ä¾èµ–äºå¦ä¸€ä¸ªç±»çš„å®šä¹‰ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä¾èµ–å…³ç³»åœ¨Javaè¯­è¨€ä¸­ä½“ç°ä¸ºå±€éƒ¨å˜é‡ã€æ–¹æ³•çš„å½¢å‚ï¼Œæˆ–è€…å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨ã€‚(ä»ä½¿ç”¨ä»¥åŠç”Ÿæ•ˆèŒƒå›´æ¥çœ‹ï¼Œå¹¶ä¸æ˜¯å•çº¯çš„å®šä¹‰ï¼Œå°±ç®—æ˜¯å®šä¹‰ä¸ºå®ä¾‹å˜é‡ï¼Œä½†æ˜¯ä½¿ç”¨ä¸Šåªåœ¨ä¸€ä¸ªæ–¹æ³•èŒƒå›´å†…ä½¿ç”¨ï¼Œä¸åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¾èµ–)

    >åªè¦åœ¨ç±»ä¸­ç”¨åˆ°äº†å¯¹æ–¹ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´å°±å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå¦‚æœæ²¡æœ‰å¯¹æ–¹ï¼Œè¿ç¼–è¯‘éƒ½é€šè¿‡ä¸äº†
    >
    >![ä¾èµ–å…³ç³»](img/07.jpg)

  - <font color="#f00">`å…³è”(Associationå…³ç³»`</font>æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„è”æ¥ï¼Œå®ƒä½¿ä¸€ä¸ªç±»çŸ¥é“å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•(å®ä¾‹å˜é‡ä½“ç°)ã€‚å…³è”å¯ä»¥æ˜¯åŒå‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å•å‘çš„ã€‚ä¸¤ä¸ªç±»ä¹‹å‰æ˜¯ä¸€ä¸ªå±‚æ¬¡çš„ï¼Œä¸å­˜åœ¨éƒ¨åˆ†è·Ÿæ•´ä½“ä¹‹é—´çš„å…³ç³»ã€‚

    >- å…³è”å…³ç³»å®é™…ä¸Šå°±æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„è”ç³»ï¼Œä»–æ˜¯ä¾èµ–å…³ç³»çš„ç‰¹ä¾‹ã€‚
    >- å…³è”å…³ç³»æ¯”ä¾èµ–çš„å…³ç³»æ›´å¼º
    >- å…³è”å…·æœ‰å¯¼èˆªæ€§ï¼Œå³åŒå‘å…³ç³»æˆ–å•å‘å…³ç³»ï¼Œè¡¨ç¤ºå…³ç³»åœ¨é‚£ä¸€æ–¹ç»´æŠ¤
    >- å…³è”å…·æœ‰å¤šé‡æ€§ï¼Œå¦‚
    >  - `1` è¡¨ç¤ºæœ‰ä¸”ä»…æœ‰ä¸€ä¸ª
    >  - `0...` è¡¨ç¤º0æˆ–è€…å¤šä¸ª
    >  - `0,1` è¡¨ç¤º0ä¸ªæˆ–è€…ä¸€ä¸ª
    >  - `n..m` è¡¨ç¤ºnåˆ°mä¸ªéƒ½å¯ä»¥
    >  - `m...` è¡¨ç¤ºè‡³å°‘mä¸ª
    >
    >![å…³è”å…³ç³»](img/08.jpg)

  - <font color="#f00">`èšåˆ(Aggregation) å…³ç³»`</font> æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯å¼ºçš„å…³è”å…³ç³»ã€‚èšåˆæ˜¯æ•´ä½“å’Œä¸ªä½“ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œæ±½è½¦ç±»ä¸å¼•æ“ç±»ã€è½®èƒç±»ï¼Œä»¥åŠå…¶å®ƒçš„é›¶ä»¶ç±»ä¹‹é—´çš„å…³ç³»ä¾¿æ•´ä½“å’Œä¸ªä½“çš„å…³ç³»ã€‚ä¸å…³è”å…³ç³»ä¸€æ ·ï¼Œèšåˆå…³ç³»ä¹Ÿæ˜¯é€šè¿‡å®ä¾‹å˜é‡å®ç°çš„ã€‚ä½†æ˜¯å…³è”å…³ç³»æ‰€æ¶‰åŠçš„ä¸¤ä¸ªç±»æ˜¯å¤„åœ¨åŒä¸€å±‚æ¬¡ä¸Šçš„ï¼Œè€Œåœ¨èšåˆå…³ç³»ä¸­ï¼Œä¸¤ä¸ªç±»æ˜¯å¤„åœ¨ä¸å¹³ç­‰å±‚æ¬¡ä¸Šçš„ï¼Œä¸€ä¸ªä»£è¡¨æ•´ä½“ï¼Œå¦ä¸€ä¸ªä»£è¡¨éƒ¨åˆ†ã€‚

    >- èšåˆå…³ç³»è¡¨ç¤ºçš„æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ•´ä½“ä¸éƒ¨åˆ†å¯ä»¥åˆ†å¼€
    >- èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ç‰¹ä¾‹ï¼Œæ‰€æœ‰å®ƒå…·æœ‰å…³è”çš„å¯¼å‘æ€§å’Œå¤šé‡æ€§
    >- èšåˆçš„åŒæ–¹ç”Ÿå‘½å‘¨æœŸæ˜¯ç‹¬ç«‹çš„
    >
    >![èšåˆå…³ç³»](img/09.jpg)

  - <font color="#f00">`ç»„åˆ(Composition)å…³ç³»`</font>æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯æ¯”èšåˆå…³ç³»å¼ºçš„å…³ç³»ã€‚å®ƒè¦æ±‚æ™®é€šçš„èšåˆå…³ç³»ä¸­ä»£è¡¨æ•´ä½“çš„å¯¹è±¡è´Ÿè´£ä»£è¡¨éƒ¨åˆ†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç»„åˆå…³ç³»æ˜¯ä¸èƒ½å…±äº«çš„ã€‚ä»£è¡¨æ•´ä½“çš„å¯¹è±¡éœ€è¦è´Ÿè´£ä¿æŒéƒ¨åˆ†å¯¹è±¡å’Œå­˜æ´»ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹å°†è´Ÿè´£ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡æ¹®ç­æ‰ã€‚ä»£è¡¨æ•´ä½“çš„å¯¹è±¡å¯ä»¥å°†ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡ä¼ é€’ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œç”±åè€…è´Ÿè´£æ­¤å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚æ¢è¨€ä¹‹ï¼Œä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡åœ¨æ¯ä¸€ä¸ªæ—¶åˆ»åªèƒ½ä¸ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿç»„åˆå…³ç³»ï¼Œç”±åè€…æ’ä»–åœ°è´Ÿè´£ç”Ÿå‘½å‘¨æœŸã€‚éƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·

    > - ä¹Ÿæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œä½†æ˜¯æ•´ç†å’Œéƒ¨åˆ†ä¸å¯åˆ†å¼€
    > - æ•´ä½“å’Œéƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸä¸€è‡´
    >
    > ![ç»„åˆå…³ç³»](img/10.jpg)

#### 4.2.2 å¯¹è±¡å›¾

- å¯¹è±¡å›¾æè¿°ä¸€ç»„å¯¹è±¡å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œå®ƒæ˜¯ç³»ç»ŸçŠ¶æ€çš„æŸä¸€æ—¶åˆ»çš„å¿«ç…§ï¼Œå®ƒçš„ä½¿ç”¨ç›¸å½“æœ‰é™ï¼Œå®ƒä¸»è¦ç”¨äºäº†è§£ç³»ç»Ÿåœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»çš„å…·ä½“çŠ¶å†µå’Œæ•°æ®ç»“æ„
- å¯¹è±¡å›¾è¡¨ç¤ºæ–¹æ³•å’Œç±»å›¾å¤§è‡´ç›¸åŒï¼Œå¯¹è±¡å›¾ä¸­çš„å¯¹è±¡å±æ€§å¯ä»¥æœ‰å…·ä½“å€¼ï¼Œç±»å›¾ä¸­çš„ä¸€ä¸ªç±»å¯ä»¥å¯¹åº”æˆå¯¹è±¡å›¾ä¸­çš„å¤šä¸ªå¯¹è±¡ï¼Œä¾‹å¦‚ï¼š éƒ¨é—¨ç±»çš„è‡ªå…³è”å°±å¯ä»¥å¯¹åº”æˆå¤šä¸ªéƒ¨é—¨ä¹‹é—´çš„å…³è”

### 4.3 å¹¶å‘è§†å›¾

> å¹¶å‘è§†å›¾åŒ…æ‹¬<font color="#08e">`é¡ºåºå›¾`</font>ã€<font color="#08e">`åä½œå›¾`</font>ã€<font color="#08e">`çŠ¶æ€å›¾`</font>ã€<font color="#08e">`æ´»åŠ¨å›¾`</font>ã€<font color="#08e">`ç»„ä»¶å›¾`</font>ã€<font color="#08e">`é…ç½®å›¾`</font>ç»„æˆã€‚

#### 4.3.1 é¡ºåºå›¾ï¼ˆæ—¶åºå›¾ï¼‰

- æ—¶åºå›¾å¼ºè°ƒæ¶ˆæ¯æ—¶é—´é¡ºåºçš„äº¤äº’å›¾
- æ—¶åºå›¾æè¿°ç±»ç³»ç»Ÿä¸­ç±»ä¸ç±»ä¹‹é—´çš„äº¤äº’ï¼Œå®ƒè®²è¿™äº›äº¤äº’å»ºæ¨¡æ¢æˆæ¶ˆæ¯äº¤æ¢
- æ—¶åºå›¾ç”¨äºæè¿°å¯¹è±¡ä¹‹é—´å¦‚ä½•éšç€æ—¶é—´è¿›è¡Œåä½œ
- æ—¶åºå›¾ç”±æ´»åŠ¨è€…(Actor)ã€å¯¹è±¡(Object)ã€æ¶ˆæ¯(Message)ã€ç”Ÿå‘½çº¿(Lifeline)å’Œæ§åˆ¶ç„¦ç‚¹(Focus Of Control)ç»„æˆ
- ä¸åŒå…ƒç´ æœ‰ä¸åŒè¡¨ç¤º
  - å¯¹è±¡æ˜¯ä¸€ä¸ªçŸ©å½¢ï¼Œå¯¹è±¡åç§°ä¸‹æœ‰ä¸‹åˆ’çº¿
  - æ¶ˆæ¯ç”¨ç”±æ–¹å‘çš„ç®­å¤´è¡¨ç¤ºï¼Œè°ƒç”¨æ˜¯å®çº¿ï¼Œè¿”å›æ¶ˆæ¯æ˜¯è™šçº¿
  - ç”Ÿå‘½çº¿ç”±çºµå‘çš„è™šçº¿è¡¨ç¤º
  - æ§åˆ¶ç„¦ç‚¹æ˜¯çºµå‘çš„çŸ©å½¢ï¼Œä¹Ÿå°±æ˜¯æ´»åŠ¨æ¡(Activiation Bar)

![](img/11.png)

#### 4.3.2 åä½œå›¾

- åä½œå›¾æ˜¯æ—¶åºå›¾çš„ä¸€ç§å˜ç§
- åä½œå›¾å¼ºè°ƒçš„æ˜¯å‘é€å’Œæ¥å—æ¶ˆæ¯çš„å¯¹è±¡ä¹‹é—´çš„ç»„ç»‡ç»“æ„
- åä½œå›¾æ˜¾ç¤ºäº†ä¸€ç³»åˆ—å¯¹è±¡å’Œåœ¨è¿™äº›å¯¹è±¡ä¹‹é—´çš„è”ç³»ä»¥åŠå¯¹è±¡é—´å‘é€å’Œæ¥å—çš„æ¶ˆæ¯
- æ—¶åºå›¾ä¸»è¦ä¾§é‡ä¸å¯¹è±¡é—´æ¶ˆæ¯ä¼ é€’åœ¨æ—¶é—´ä¸Šçš„å…ˆåå…³ç³»ï¼Œè€Œåä½œå›¾åˆ™ä¾§é‡ä¸å¯¹è±¡é—´ä»¥åŠå¯¹è±¡å’Œè§’è‰²äº¤äº’çš„é™æ€å…³ç³»

![](img/12.png)

#### 4.3.3 çŠ¶æ€å›¾

ç•¥~

#### 4.3.4 æ´»åŠ¨å›¾

- åœ¨UMLé‡Œï¼Œæ´»åŠ¨å›¾æœ¬è´¨ä¸Šå°±æ˜¯æµç¨‹å›¾ï¼Œ
- å®ƒæè¿°ç³»ç»Ÿçš„æ´»åŠ¨ï¼Œåˆ¤æ–­ç³»ç»Ÿçš„æ´»åŠ¨ï¼Œåˆ¤æ–­ç‚¹å’Œåˆ†æ”¯ç­‰ã€‚

![](img/13.png)

#### 4.3.5 ç»„ä»¶å›¾

- ç»„ä»¶å›¾ç”¨ä¾‹å»ºç«‹ç³»ç»Ÿçš„å„ä¸ªç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œå®ƒä»¬æ˜¯é€šè¿‡è½¯ä»¶æˆ–è€…æ–‡ä»¶ç»„ç»‡åœ¨ä¸€èµ·ï¼Œä½¿ç”¨ç»„ä»¶å›¾å¯ä»¥å¸®åŠ©è¯»è€…äº†è§£æŸä¸ªåŠŸèƒ½ä½äºè½¯ä»¶åŒ…ä¸­çš„å“ªä¸€ä¸ªä½ç½®ï¼Œä»¥åŠå„ä¸ªç‰ˆæœ¬çš„è½¯ä»¶åŒ…å«é‚£äº›åŠŸèƒ½ã€‚
- ç»„ä»¶å›¾å¯ä»¥ç”¨æ¥å¸®åŠ©è®¾è®¡ç³»ç»Ÿçš„æ•´ä½“æ¶æ„

![](img/14.png)

#### 4.3.6 é…ç½®å›¾ï¼ˆéƒ¨ç½²å›¾ï¼‰

- éƒ¨ç½²å›¾æ˜¯æ¥å¸®åŠ©è¯»è€…äº†è§£è½¯ä»¶ä¸­çš„å„ä¸ªç»„ä»¶è¿è¡Œç¡¬ä»¶ä»€ä¹ˆä½ç½®ï¼Œä»¥åŠè¿™äº›ç¡¬ä»¶ä¹‹é—´çš„äº¤äº’å…³ç³»
- èŠ‚ç‚¹ï¼š ç”¨æ¥è¡¨ç¤ºä¸€ç§ç¡¬ä»¶ï¼Œå®ƒå¯ä»¥æ˜¯æœåŠ¡å™¨ï¼Œè®¡ç®—æœºç­‰ã€‚èŠ‚ç‚¹çš„ç¬¦å·æ˜¯ä¸€ä¸ªä¸‰ä½ç›’å­ï¼Œåœ¨å·¦ä¸Šè§’åŒ…å«èŠ‚ç‚¹çš„åç§°
- é€šä¿¡å…³è”ï¼š èŠ‚ç‚¹é€šè¿‡é€šä¿¡å…³è”å»ºç«‹å½¼æ­¤çš„å…³ç³»ï¼Œé‡‡ç”¨ä»èŠ‚ç‚¹åˆ°èŠ‚ç‚¹ç»˜åˆ¶å®çº¿æ¥è¡¨ç¤ºå…³è”

![](img/15.png)

# ç¬¬2ç« ï¼šè®¾è®¡æ¨¡å¼

## é›¶ã€è°ƒè¯•å®‰è£…

```bash
cnpm init -y
tsc --init
npm i ts-node -g
ä¸‹è½½vscodeæ’ä»¶ code runner
ä¸‹è½½å¥½ä¹‹åï¼Œå³é”®`run code`å³å¯~
```



## ä¸€ã€é¢å‘å¯¹è±¡

> <font color="#f00">ä»¥ç±»å’Œå¯¹è±¡ä½œä¸ºç»„ç»‡ä»£ç çš„åŸºæœ¬å•ä½ï¼Œå¹¶å®ç°å°è£…ã€æŠ½è±¡ã€ç»§æ‰¿ã€å¤šæ€å››ä¸ªç‰¹æ€§</font>

é¢å‘å¯¹è±¡çš„è¿‡ç¨‹ä¸­å¾€å¾€ä¼šæ¶‰åŠåˆ°è½¯ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªé˜¶æ®µï¼šåˆ†æã€è®¾è®¡ã€ç¼–ç 

- é¢å‘å¯¹è±¡åˆ†æ(OOA) Object Oriented Analysis
- é¢å‘å¯¹è±¡è®¾è®¡(OOD) Object Oriented Design
- é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)Object Oriented Programming

### 1.1 å°è£…

- æŠŠæ•°æ®å°è£…èµ·æ¥
- å‡å°‘è€¦åˆï¼Œä¸è¯¥å¤–éƒ¨è®¿é—®çš„ä¸è¦è®©å¤–éƒ¨è®¿é—®
- åˆ©äºæ•°æ®çš„æ¥å£æƒé™ç®¡ç†
- ä»…æš´éœ²æœ‰é™çš„å¿…è¦æ¥å£ï¼Œæé«˜ç±»çš„æ˜“ç”¨æ€§
- å®ç°
  - public:å…¬æœ‰ä¿®é¥°ç¬¦ï¼Œå¯ä»¥åœ¨ç±»å†…æˆ–è€…ç±»å¤–ä½¿ç”¨publicä¿®é¥°çš„å±æ€§æˆ–è€…è¡Œä¸ºï¼Œé»˜è®¤ä¿®é¥°ç¬¦
  - protected:å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦ï¼Œå¯ä»¥æœ¬ç±»å’Œå­ç±»ä¸­ä½¿ç”¨protectedä¿®é¥°çš„å±æ€§å’Œè¡Œä¸º
  - private : ç§æœ‰ä¿®é¥°ç¬¦ï¼Œåªå¯ä»¥åœ¨ç±»å†…ä½¿ç”¨privateä¿®é¥°çš„å±æ€§å’Œè¡Œä¸º

```typescript
class Animal {
    public name: string;
    protected age: number;
    private weight: number;
    constructor(name: string, age: number, weight: number) {
        this.name = name;
        this.age = age;
        this.weight = weight;
    }
}
class Person extends Animal {
    private money: number;
    constructor(name: string, age: number, weight: number, money: number) {
        super(name, age, weight);
        this.money = money;
    }
    getName() {
        console.log(this.name);
    }
    getAge() {
        console.log(this.age);
    }
    getWeight() {
        console.log(this.weight);
    }
    getMoney() {
        console.log(this.money);
    }
}
let p = new Person('zfpx', 9, 100, 100);
console.log(p.name);
console.log(p.age);
console.log(p.weight);
```

### 1.2 æŠ½è±¡

- æŠ½è±¡ä¸»è¦æ˜¯éšè—æ–¹æ³•çš„å®ç°ï¼Œè®©è°ƒç”¨è€…åªå…³å¿ƒæœ‰å“ªäº›åŠŸèƒ½è€Œä¸æ˜¯å…³å¿ƒåŠŸèƒ½çš„å®ç°
- æŠ½è±¡å¯ä»¥æé«˜ä»£ç çš„å¯æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ï¼Œä¿®æ”¹å®ç°ä¸éœ€è¦æ”¹å˜å®šä¹‰ï¼Œå¯ä»¥å‡å°‘ä»£ç çš„æ”¹åŠ¨èŒƒå›´

```typescript
interface IStorage {
    save(key: any, value: any): void;
    read(key: any): void;
}
class LocalStorage implements IStorage {
    save(key: any, value: any) {
        localStorage.setItem(key, value);
    }
    read(key: any) {
        return localStorage.getItem(key);
    }
}
class User {
    constructor(public name: string, public storage: IStorage) {

    }
    save() {
        this.storage.save('userInfo', JSON.stringify(this));
    }
    read() {
        return this.storage.read('userInfo');
    }
}
let user = new User('å¼ ä¸‰', new LocalStorage());
user.save();
user.read();
```

### 1.3 ç»§æ‰¿

- ç»§æ‰¿ä¸»è¦çš„è¦å¤„æ˜¯å®ç°ä»£ç å¤ç”¨
- ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»å’Œå­ç±»çš„å…¬å…±æ–¹æ³•æŠ½ç¦»å‡ºæ¥ï¼Œæé«˜å¤ç”¨ï¼Œå‡å°‘å†—ä½™
- æ˜¯ä¸€ç§ `is-a` å…³ç³»

```typescript
export { };
class Animal {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    eat() {
        console.log(`${this.name} eat`)
    }
}
let animal = new Animal('åŠ¨ç‰©');
animal.eat();

class Dog extends Animal {
    age: number;
    constructor(name: string, age: number) {
        super(name);
        this.age = age;
    }
    speak() {
        console.log(`${this.name} is barking!`);
    }
}
let dog = new Dog('ğŸ¶', 5);
dog.eat();
dog.speak();
```

### 1.4 å¤šæ€

- å¤šæ€æ˜¯æŒ‡ï¼Œå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»
- ä¿æŒå­ç±»çš„å¼€æ”¾æ€§å’Œçµæ´»æ€§ï¼Œå¯ä»¥é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
- å®ç°é¢å‘æ¥å£ç¼–ç¨‹

```typescript
class Animal {
    public name: string;
    protected age: number;
    private weight: number;
    constructor(name: string, age: number, weight: number) {
        this.name = name;
        this.age = age;
        this.weight = weight;
    }
    speak() {
        throw new Error('æ­¤æ–¹æ³•å¿…é¡»ç”±å­ç±»å®ç°!');
    }
}
class Person extends Animal {
    private money: number;
    constructor(name: string, age: number, weight: number, money: number) {
        super(name, age, weight);
        this.money = money;
    }
    getName() {
        console.log(this.name);
    }
    getAge() {
        console.log(this.age);
    }
    getMoney() {
        console.log(this.money);
    }
    speak() {
        console.log('ä½ å¥½!');
    }

}
class Dog extends Animal {
    constructor(name: string, age: number, weight: number) {
        super(name, age, weight);
    }
    speak() {
        console.log('æ±ªæ±ªæ±ª!');
    }
}
let p = new Person('zfpx', 10, 10, 10);
p.speak();
let d = new Dog('zfpx', 10, 10);
d.speak();
```

## äºŒã€è®¾è®¡åŸåˆ™

### 2.1 ä»€ä¹ˆæ˜¯è®¾è®¡ï¼Ÿ

- æŒ‰å“ªä¸€ç§æ€è·¯æˆ–è€…æ ‡å‡†æ¥å®ç°åŠŸèƒ½
- åŠŸèƒ½ç›¸åŒï¼Œå¯ä»¥æœ‰ä¸åŒè®¾è®¡çš„æ–¹å¼
- éœ€æ±‚å¦‚æœä¸æ–­å˜åŒ–ï¼Œè®¾è®¡çš„ä½œç”¨æ‰èƒ½ä½“ç°å‡ºæ¥

### 2.2 SOLIDäº”å¤§è®¾è®¡åŸåˆ™

| é¦–å­—æ¯ | æŒ‡ä»£         | æ¦‚å¿µ                                                         |
| :----- | :----------- | :----------------------------------------------------------- |
| S      | å•ä¸€èŒè´£åŸåˆ™ | å•ä¸€åŠŸèƒ½åŸåˆ™è®¤ä¸ºå¯¹è±¡åº”è¯¥ä»…å…·æœ‰ä¸€ç§`å•ä¸€åŠŸèƒ½`çš„æ¦‚å¿µ           |
| O      | å¼€æ”¾å°é—­åŸåˆ™ | å¼€é—­åŸåˆ™è®¤ä¸º`è½¯ä»¶ä½“åº”è¯¥æ˜¯å¯¹äºæ‰©å±•å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹å°é—­çš„`çš„æ¦‚å¿µ |
| L      | é‡Œæ°æ›¿æ¢åŸåˆ™ | é‡Œæ°æ›¿æ¢åŸåˆ™è®¤ä¸ºç¨‹åºä¸­çš„å¯¹è±¡åº”è¯¥æ˜¯å¯ä»¥åœ¨ä¸æ”¹å˜ç¨‹åºæ­£ç¡®æ€§çš„å‰æä¸‹`è¢«å®ƒçš„å­ç±»æ‰€æ›¿æ¢`çš„çš„æ¦‚å¿µ |
| I      | æ¥å£éš”ç¦»åŸåˆ™ | æ¥å£éš”ç¦»åŸåˆ™è®¤ä¸º`å¤šä¸ªç‰¹å®šå®¢æˆ·ç«¯æ¥å£è¦å¥½äºä¸€ä¸ªå®½æ³›ç”¨é€”çš„æ¥å£`çš„æ¦‚å¿µ |
| D      | ä¾èµ–åè½¬åŸåˆ™ | ä¾èµ–åè½¬åŸåˆ™è®¤ä¸ºä¸€ä¸ªæ–¹æ³•åº”è¯¥éµä»`ä¾èµ–äºæŠ½è±¡è€Œä¸æ˜¯ä¸€ä¸ªå®ä¾‹`çš„æ¦‚å¿µ,ä¾èµ–æ³¨å…¥æ˜¯è¯¥åŸåˆ™çš„ä¸€ç§å®ç°æ–¹å¼ã€‚ |

#### 2.2.1 O å¼€æ”¾å°é—­åŸåˆ™

- `Open Closed Principle`
- å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç 
- å¼€é—­åŸåˆ™æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„æ€»åŸåˆ™
- å¯¹è¿‘æœŸå¯èƒ½ä¼šå˜åŒ–å¹¶ä¸”å¦‚æœæœ‰å˜åŒ–ä½†æ”¹åŠ¨é‡å·¨å¤§çš„åœ°æ–¹è¦å¢åŠ æ‰©å±•ç‚¹,æ‰©å±•ç‚¹è¿‡å¤šä¼šé™ä½å¯è¯»æ€§

```js
class Customer {
    constructor(public rank: string) { }
}
class Product {
    constructor(public name: string, public price: number) {

    }
    cost(customer: Customer) {
        switch (customer.rank) {
            case 'member':
                return this.price * .8;
            case 'vip':
                return this.price * .6;
            default:
                return this.price;
        }
    }
}
let p1 = new Product('ç¬”è®°æœ¬ç”µè„‘', 1000);
let member = new Customer('member');
let vip = new Customer('vip');
let guest = new Customer('guest');
console.log(p1.cost(member));
console.log(p1.cost(vip));
console.log(p1.cost(guest));
class Customer {
+    constructor(public rank: string, public discount: number = 1) { }
+    getDiscount() {
+        return this.discount;
+    }
}
class Product {
    constructor(public name: string, public price: number) {

    }
    cost(customer: Customer) {
-        /*  switch (customer.rank) {
-             case 'member':
-                 return this.price * .8;
-             case 'vip':
-                 return this.price * .6;
-             default:
-                 return this.price;
-         } */
+        return this.price * customer.getDiscount();
    }
}
+let p1 = new Product('ç¬”è®°æœ¬ç”µè„‘', 1000);
+let member = new Customer('member', .8);
+let vip = new Customer('vip', .6);
let guest = new Customer('guest');
console.log(p1.cost(member));
console.log(p1.cost(vip));
console.log(p1.cost(guest));
import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';
let instance: AxiosInstance = axios.create();
instance.interceptors.request.use((config: AxiosRequestConfig) => {
    config.url = 'http://localhost:8080' + config.url;
    return config;
});

instance.interceptors.response.use(response => {
    if (response.status !== 200 || response.data.code != 0) {
        return Promise.reject(response);
    } else {
        return response.data.data;
    }
})
/**
 * {code:0,data:{id:1,name:'zhufeng'}}
 */
instance({
    url: '/api/users'
}).then(result => {
    console.log(result);
}, error => {
    console.error(error);
});
```

#### 2.2.2 S å•ä¸€èŒè´£åŸåˆ™

- Single responsibility principle
- ä¸€ä¸ªç±»æˆ–è€…æ¨¡å—åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£,å¦‚æœåŠŸèƒ½ç‰¹åˆ«å¤æ‚å°±è¿›è¡Œæ‹†åˆ†
- å•ä¸€èŒè´£å¯ä»¥é™ä½ç±»çš„å¤æ‚æ€§ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§
- å½“ç±»ä»£ç è¡Œæ•°è¿‡å¤šã€æ–¹æ³•è¿‡å¤šã€åŠŸèƒ½å¤ªå¤šã€èŒè´£å¤ªæ‚çš„æ—¶å€™å°±è¦å¯¹ç±»è¿›è¡Œæ‹†åˆ†äº†
- æ‹†åˆ†ä¸èƒ½è¿‡åº¦ï¼Œå¦‚æœæ‹†åˆ†è¿‡åº¦ä¼šæŸå¤±å†…èšæ€§å’Œç»´æŠ¤æ€§
- [lodashjs](https://www.lodashjs.com/docs/latest)
- [jquery](https://api.jquery.com/)

![å•ä¸€èŒè´£åŸåˆ™](img/16.png)

```diff
class Product {
    public name: string;
-    public categoryName: string;
-    public categoryIcon: string;
+     public category:Category;
}
+class Category {
+    public name: string;
+    public icon: string;
+}
```

#### 2.2.3 L é‡Œæ°æ›¿æ¢åŸåˆ™

- Liskov Substitution Principle
- æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡
- å­ç±»èƒ½æ›¿æ¢æ‰çˆ¶ç±»ï¼Œä½¿ç”¨è€…å¯èƒ½æ ¹æœ¬å°±ä¸éœ€è¦çŸ¥é“æ˜¯çˆ¶ç±»è¿˜æ˜¯å­ç±»,åä¹‹åˆ™ä¸è¡Œ
- é‡Œæ°æ›¿æ¢åŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„å®ç°åŸºç¡€,ç¨‹åºè®¾è®¡çš„æ—¶å€™å°½é‡ä½¿ç”¨åŸºç±»å®šä¹‰åŠå¼•ç”¨ï¼Œè¿è¡Œæ—¶å†å†³å®šä½¿ç”¨å“ªä¸ªå­ç±»
- é‡Œæ°æ›¿æ¢åŸåˆ™å¯ä»¥æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œæé«˜ä»£ç çš„å¯æ‰©å±•æ€§ï¼Œä¹Ÿå¢åŠ äº†è€¦åˆæ€§
- ç›¸å¯¹äºå¤šæ€ï¼Œè¿™ä¸ªåŸåˆ™æ˜¯è®²çš„æ˜¯ç±»å¦‚ä½•è®¾è®¡ï¼Œå­ç±»å¦‚æœè¿åäº†çˆ¶ç±»çš„åŠŸèƒ½åˆ™è¡¨ç¤ºè¿åäº†é‡Œæ°æ›¿æ¢åŸåˆ™

![é‡Œæ°æ›¿æ¢åŸåˆ™](img/17.png)

```js
abstract class AbstractDrink {
    abstract getName(): string;
}
class CocaCola extends AbstractDrink {
    getName(): string {
        return 'å¯ä¹';
    }
}
class Sprite extends AbstractDrink {
    getName(): string {
        return 'é›ªç¢§';
    }
}
class Fanta extends AbstractDrink {
    getName(): string {
        return 'èŠ¬è¾¾';
    }
}
class Customer {
    drink(drink: AbstractDrink) {
        console.log('å–' + drink.getName());
    }
}
let customer = new Customer();
let cocaCola = new CocaCola();
let sprite = new Sprite();
let fanta = new Fanta();
customer.drink(cocaCola);
customer.drink(sprite);
customer.drink(fanta);
import React from 'react';
import ReactDOM from 'react-dom';
class App extends React.Component {
    render() {
        return (
            <div>App </div>
        )
    }
}
let element = React.createElement(App);
ReactDOM.render(element, document.getElementById('root'));
abstract class AbstractDrink {
    abstract getName(): any;
}
class CocaCola extends AbstractDrink {
    getName(): any {
        return 100;
    }
}
```

#### 2.2.4 D ä¾èµ–å€’ç½®åŸåˆ™

- Dependence Inversion Principle
- é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“å®ç°
- è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æ—¶æˆ–åœ¨å…³è”å…³ç³»ä¸­ï¼Œå°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»
- ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°

![ä¾èµ–å€’ç½®åŸåˆ™](img/18.png)

```js
abstract class GirlFriend {
    public age: number;
    public height: number;
    public abstract cook(): void;
}
class LinZhiLing extends GirlFriend {
    public cook(): void {

    }
}
class HanMeiMei extends GirlFriend {
    public cook(): void {

    }
}
class SingleDog {
    constructor(public girlFriend: GirlFriend) {

    }
}
let s1 = new SingleDog(new LinZhiLing());
let s2 = new SingleDog(new HanMeiMei());
import { createStore } from 'redux';
let store = createStore(state => state);
export interface Action<T = any> {
    type: T
}
export interface AnyAction extends Action {
    // Allows any extra properties to be defined in an action.
    [extraProps: string]: any
}
let action: AnyAction = { type: 'increment', payload: 5 }
store.dispatch(action);
```

#### 2.2.5 I æ¥å£éš”ç¦»åŸåˆ™

- Interface Segregation Principle
- ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°èƒ–æ¥å£
- å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œç±»é—´çš„ä¾èµ–å…³ç³»åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Š
- æ¥å£å°½é‡ç»†åŒ–ï¼Œè€Œä¸”æ¥å£ä¸­çš„æ–¹æ³•å°½é‡çš„å°‘
- ç±»ä¼¼äºå•ä¸€èŒè´£åŸåˆ™ï¼Œæ›´å…³æ³¨æ¥å£

```js
interface IUserManager {
    updateUserInfo(): void;
    updatePassword(): void;
}
interface IProductManager {
    updateProduct(): void;
    updatePrice(): void;
}
```

![æ¥å£éš”ç¦»åŸåˆ™](img/19.jpg)

```js
interface Running {
    run(): void;
}
interface Flying {
    fly(): void;
}
interface Swimming {
    swim(): void;
}
class Automobile implements Running, Flying, Swimming {
    run() { }
    fly() { }
    swim() { }
}
```

### 2.3 è¿ªç±³ç‰¹æ³•åˆ™

- Law of Demeterï¼ŒLOD
- æœ‰æ—¶å€™ä¹Ÿå«åšæœ€å°‘çŸ¥è¯†åŸåˆ™
- ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶å®ƒå®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨
- è¿ªç±³ç‰¹æ³•åˆ™çš„åˆè¡·åœ¨äºé™ä½ç±»ä¹‹é—´çš„è€¦åˆ
- ç±»å®šä¹‰æ—¶å°½é‡è¦å®ç°å†…èš,å°‘ä½¿ç”¨`public`ä¿®é¥°ç¬¦ï¼Œå°½é‡ä½¿ç”¨`private`ã€`protected` ç­‰

![è¿ªç±³ç‰¹æ³•åˆ™](img/20.png)

```js
class Salesman {
    constructor(public name: string) {

    }
    sale() {
        console.log(this.name + ' é”€å”®ä¸­....');
    }
}
class SaleManager {
    private salesmen: Array<Salesman> = [new Salesman('å¼ ä¸‰'), new Salesman('æå››')];
    sale() {
        this.salesmen.forEach(salesman => salesman.sale());
    }
}
class CEO {
    private saleManager: SaleManager = new SaleManager();
    sale() {
        this.saleManager.sale();
    }
}
let ceo = new CEO();
ceo.sale();
```

### 2.4 åˆæˆå¤ç”¨åŸåˆ™

#### 2.4.1 ç±»çš„å…³ç³»

- ç±»ä¹‹é—´æœ‰ä¸‰ç§åŸºæœ¬å…³ç³»ï¼Œåˆ†åˆ«æ˜¯å…³è”(èšåˆå’Œç»„åˆ)ã€æ³›åŒ–å’Œä¾èµ–

- å¦‚æœä¸€ä¸ªç±»å•å‘ä¾èµ–å¦ä¸€ä¸ªç±»,é‚£ä¹ˆå®ƒä»¬ä¹‹é—´å°±æ˜¯å•å‘å…³è”ã€‚å¦‚æœå½¼æ­¤ä¾èµ–,åˆ™ä¸ºç›¸äº’ä¾èµ–,å³åŒå‘å…³è”

- å…³è”å…³ç³»åŒ…æ‹¬ä¸¤ç§ç‰¹ä¾‹ï¼šèšåˆå’Œç»„åˆ

  - èšåˆï¼Œç”¨æ¥è¡¨ç¤ºæ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»æˆ–è€…`æ‹¥æœ‰`å…³ç³»,ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡å¯èƒ½ä¼šè¢«æ•´ä½“æ‹¥æœ‰ï¼Œä½†å¹¶ä¸å®šå®šä¼šéšç€æ•´ä½“çš„æ¶ˆäº¡è€Œé”€æ¯,æ¯”å¦‚ç­çº§å’Œå­¦ç”Ÿ

  - åˆæˆæˆ–è€…è¯´ç»„åˆè¦æ¯”èšåˆå…³ç³»å¼ºçš„å¤šï¼Œéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€è‡´çš„,æ¯”å¦‚äººå’Œå™¨å®˜ä¹‹é—´

    ![](img/21.png)

#### 2.4.2 åˆæˆå¤ç”¨åŸåˆ™

- åˆæˆå¤ç”¨åŸåˆ™æ˜¯é€šè¿‡å°†å·²æœ‰çš„å¯¹è±¡çº³å…¥æ–°å¯¹è±¡ä¸­ï¼Œä½œä¸ºæ–°å¯¹è±¡çš„æˆå‘˜å¯¹è±¡æ¥å®ç°çš„
- æ–°å¯¹è±¡å¯ä»¥è°ƒç”¨å·²æœ‰å¯¹è±¡çš„åŠŸèƒ½ï¼Œä»è€Œè¾¾åˆ°å¤ç”¨
- åŸåˆ™æ˜¯å°½é‡é¦–å…ˆä½¿ç”¨ç»„åˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿
- ä¸“ä¸šäººåšä¸“ä¸šäº‹

```js
class Cooker {
    cook() {

    }
}
class Person {
    private cooker: Cooker = new Cooker();
    cook() {
        this.cooker.cook();
    }
}
```

### 2.5 æ€»ç»“

- å¼€é—­åŸåˆ™æ˜¯æ ¸å¿ƒï¼Œå¯¹ä¿®æ”¹å…³é—­å¯¹æ‰©å±•å¼€æ”¾æ˜¯è½¯ä»¶è®¾è®¡çš„åŸºçŸ³
- å•ä¸€èŒè´£è¦æ±‚æˆ‘ä»¬è®¾è®¡æ¥å£å’Œæ¨¡å—åŠŸèƒ½çš„æ—¶å€™å°½é‡ä¿è¯å•ä¸€æ€§å’ŒåŸå­æ€§ï¼Œä¿®æ”¹ä¸€æ¡ä¸å½±å“å…¨å±€å’Œå…¶å®ƒæ¨¡å—
- é‡Œæ°æ›¿æ¢åŸåˆ™å’Œä¾èµ–å€’ç½®åŸåˆ™è¦æ±‚é¢å‘æ¥å£å’ŒæŠ½è±¡ç¼–ç¨‹,ä¸è¦ä¾èµ–å…·ä½“å®ç°ï¼Œå¦åˆ™å®ç°ä¸€æ”¹ï¼Œä¸Šå±‚è°ƒç”¨è€…å°±è¦å¯¹åº”ä¿®æ”¹

### 2.6 å¦‚ä½•å†™å‡ºå¥½ä»£ç ?

- å¯ç»´æŠ¤æ€§ BUGæ˜¯å¦å¥½æ”¹?
- å¯è¯»æ€§ æ˜¯å¦å®¹æ˜“çœ‹æ‡‚?
- å¯æ‰©å±•æ€§ æ˜¯å¦å¯ä»¥æ·»åŠ æ–°åŠŸèƒ½?
- çµæ´»æ€§ æ·»åŠ æ–°åŠŸèƒ½æ˜¯å¦å®¹æ˜“?è€æ–¹æ³•å’Œæ¥å£æ˜¯å¦å®¹æ˜“å¤ç”¨?
- ç®€æ´æ€§ ä»£ç æ˜¯å¦ç®€å•æ¸…æ™°?
- å¯å¤ç”¨æ€§ ç›¸åŒçš„ä»£ç ä¸è¦å†™2é?
- å¯æµ‹è¯•æ€§ æ˜¯å¦æ–¹ä¾¿å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•?

## ä¸‰ã€23ç§è®¾è®¡æ¨¡å¼æ€»æ‹¬

### 3.1 è®¾è®¡æ¨¡å¼åˆ†ç±»

> é€šå¸¸å¯ä»¥åˆ†ä¸º `åˆ›å»ºå‹`ã€`ç»“æ„å‹`ã€`è¡Œä¸ºå‹`ã€‚

#### 3.1.1 åˆ›å»ºå‹

- `é‡è¦: å·¥å‚æ¨¡å¼(å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€ç®€å•å·¥å‚æ¨¡å¼)ã€å»ºé€ è€…æ¨¡å¼ã€å•ä¾‹æ¨¡å¼`
- ä¸é‡è¦: åŸå‹æ¨¡å¼

#### 3.1.2 ç»“æ„å‹æ¨¡å¼

- `é‡è¦: ä»£ç†æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼`
- ä¸é‡è¦: å¤–è§‚æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼

#### 3.1.3 è¡Œä¸ºå‹

- `é‡è¦: è§‚å¯Ÿè€…æ¨¡å¼ã€æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼`
- ä¸é‡è¦: è®¿é—®è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼

## å››ã€å·¥å‚æ¨¡å¼

### 4.1 ç®€å•å·¥å‚æ¨¡å¼

> ç®€å•å·¥å‚æ¨¡å¼æ˜¯ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹ã€‚å³<font color="#f00">`ä¸€ä¸ªç±»é€šè¿‡ä¼ é€’çš„å‚æ•°ä¸åŒç”Ÿæˆä¸åŒçš„å®ä¾‹`</font>ã€‚

#### 4.1.1 ç±»å›¾æ¼”ç¤º

![ç®€å•å·¥å‚](img/22.png)

#### 4.1.2 ä»£ç æ¼”ç¤º

```tsx
abstract class Coffee {
    constructor(public name: string) {

    }
}
class AmericanoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class LatteCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class CappuccinoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}

class CafÃ© {
    static order(name: string) {
        switch (name) {
            case 'Americano':
                return new AmericanoCoffee('ç¾å¼å’–å•¡');
            case 'Latte':
                return new LatteCoffee('æ‹¿é“å’–å•¡');
            case 'Cappuccino':
                return new LatteCoffee('å¡å¸ƒå¥‡è¯º');
            default:
                return null;
        }
    }
}
console.log(CafÃ©.order('Americano'));
console.log(CafÃ©.order('Latte'));
console.log(CafÃ©.order('Cappuccino'));

```

#### 4.1.3 ç¼ºç‚¹

- å¦‚æœäº§å“çš„ç§ç±»éå¸¸å¤š`switch case`çš„åˆ¤æ–­ä¼šå˜å¾—éå¸¸å¤š
- ä¸ç¬¦åˆå¼€æ”¾â€”å°é—­åŸåˆ™,å¦‚æœè¦å¢åŠ æˆ–åˆ é™¤ä¸€ä¸ªäº§å“ç§ç±»ï¼Œå°±è¦ä¿®æ”¹`switch case`çš„åˆ¤æ–­ä»£ç 

#### 4.1.4 å‰ç«¯åº”ç”¨åœºæ™¯

ä¾‹å¦‚reactæºç ä¸­çš„[createElement](https://github.com/facebook/react/blob/main/packages/react/src/ReactElement.js#L313-L395Â )

æ–¹æ³•

```tsx
export function createElement(type, config, children) {
    return ReactElement(
        type,
        key,
        ref,
        self,
        source,
        ReactCurrentOwner.current,
        props,
    );
}
```

